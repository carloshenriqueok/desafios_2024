<script>
    const quartos = [
        { numero: 101, tipo: "Standard", disponivel: true, preco: 150 },
        { numero: 102, tipo: "Luxo", disponivel: true, preco: 300 },
        { numero: 103, tipo: "Standard", disponivel: false, preco: 150 }
    ];
    //Problema: Reserva de Hotel
    /*
    1. Criar uma função listarQuartosDisponiveis() que mostra apenas os quartos livres.
    2. Criar uma função reservarQuarto(numero) que altera a disponibilidade do quarto.
    3. Criar uma função cancelarReserva(numero) que libera um quarto ocupado.
    4. Criar uma função calcularFaturamento() que soma o valor de todas as reservas feitas.
    5. Criar um loop (while) para o usuário interagir com as opções até escolher sair (opção 0).
    */


    function listarQuartosDisponiveis(){
        let resultado = "";
        let quartoLivre = quartos.filter(quarto => quarto.disponivel === true);
        if(quartoLivre.length > 0){
            resultado = quartoLivre.map(quarto => `Quarto: ${quarto.numero} - ${quarto.tipo}`).join("\n");
        } else {
            resultado = `Ops, parece que não tem quartos disponiveis`
        }

        return resultado;

    }

    // alert(listarQuartosDisponiveis());

    function reservarQuarto(numero){
        let escolha = Number(prompt(`O que você deseja:\n1 - Reservar quarto \n2 - Cancelar reserva`));
        let mensagem = "";
        if(escolha === 1){
            let reserva = Number(prompt(`Qual quarto você deseja reservar?`));
            for(let i =  0; i < quartos.length; i++){
                if(quartos[i].numero === reserva && quartos[i].disponivel === true){
                    quartos[i].disponivel = false;
                    mensagem = "Quarto reservado com sucesso"
                }
                else{
                    mensagem = "Quarto indisponível"
                    
                }
            }
        }

        else if(escolha === 2){
            let cancelar = Number(prompt(`Qual quarto você deseja cancelar a reserva?`));
            for(let i =  0; i < quartos.length; i++){
                if(quartos[i].numero === cancelar && quartos[i].disponivel === false){
                    quartos[i].disponivel = true;
                    return "Reserva cancelada com sucesso";
                }
                else if(quartos[i].numero === cancelar && quartos[i].disponivel === true){
                    return "Este quarto já está disponível"
                }
            }
        }
        return mensagem;
    }

    alert(reservarQuarto());
</script>